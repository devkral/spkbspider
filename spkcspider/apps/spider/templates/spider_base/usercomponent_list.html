{% extends "spider_base/ucs_base.html" %}
{% load i18n %}
{% block title %}{% if component_user %}
  {% blocktrans trimmed with name=component_user %}
    Component List of {{name}}
  {% endblocktrans %}
{% else %}{% blocktrans trimmed %}
  Component List
{% endblocktrans %}{% endif %}{% endblock %}

{% block main_classes %}{{block.super}} w3-content w3-card-4{% endblock %}

{% block content %}
  <div>
    {% if request.user.is_authenticated %}
      <a class="w3-right" href="{% url 'spider_base:ucomponent-create' %}">
        <i class="fa fa-plus" style="margin-right:10px" aria-hidden="true"></i>
        {% trans 'Add New Component' %}
      </a>
    {% endif %}
    <h1 class="w3-center">
      {% trans "User Components" %}
    </h1>
  </div>
  <div class="w3-margin">
    <table class="w3-table w3-striped w3-bordered w3-hoverable">
      {% for uc in object_list %}
        <tr class="{% if uc.name == 'index' %}w3-yellow{% endif %}">
          <td class="{% if uc.name == 'index' %}w3-large{% endif %}">
            {% if uc.name == 'index' %}
              {% trans 'Private Component' %}
            {% else %}
              {% if not component_user %}{{uc.user}} - {% endif %}{{ uc.name }}
            {% endif %}
          </td>
          <td class="w3-show-inline-block">
            <div class="w3-bar w3-round-large w3-tiny w3-blue">
              <a class="w3-hover-black w3-button w3-bar-item w3-tooltip" href="{% url 'spider_base:ucontent-list' id=uc.id nonce=uc.nonce %}">
                <i class="fa fa-list-ul" alt="{% trans 'List' %}" aria-label="{% trans 'List' %}"></i>
                <span aria-hidden="true" style="position:absolute;left:1px;bottom:2px" class="w3-text w3-black w3-large"><span class="w3-animate-opacity">{% trans "List" %}</span></span>
              </a>
              {% if uc.user == request.user %}
                <a class="w3-hover-black w3-button w3-bar-item w3-tooltip" href="{% url 'spider_base:ucomponent-update' name=uc.name nonce=uc.nonce %}">
                  <i class="fa fa-edit" alt="{% trans 'Edit' %}" aria-label="{% trans 'Edit' %}"></i>
                  <span aria-hidden="true" style="position:absolute;left:1px;bottom:2px" class="w3-text w3-black w3-large"><span class="w3-animate-opacity">{% trans "Edit" %}</span></span>
                </a>
              {% endif %}
            </div>
          </td>
        </tr>
      {% empty %}
          <tr><td>{% trans 'No User Components available.' %}</td></tr>
      {% endfor %}
    </table>
  </div>
  <div class="page-manipulation w3-padding" style="margin-top:40px">
    {% include 'spider_base/list_footer.html' %}
  </div>
{% endblock %}
